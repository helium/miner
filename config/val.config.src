%% -*- erlang -*-
[
 "config/sys.config",
 {lager,
  [
   {log_root, "log"},
   {handlers,
    [
     {lager_file_backend, [{file, "console.log"}, {size, 52428800}, {level, info}]},
     {lager_file_backend, [{file, "error.log"}, {size, 52428800}, {level, error}]}
    ]}
  ]},
 {blockchain,
  [
   {ports, [2154]},
   {seed_nodes, "/ip4/35.166.211.46/tcp/2154,/ip4/44.236.95.167/tcp/2154,/ip4/3.34.61.168/tcp/2154"},
   {block_sync_batch_size, 10},
   {block_sync_batch_limit, 100},
   {validation_width, 8},
   {max_inbound_connections, 32},
   {snapshot_memory_limit, 300},
   {key, undefined},
   {relay_limit, 100},
   {base_dir, "data"}
  ]},
 {libp2p,
  [
   {use_dns_for_seeds, true},
   {seed_dns_cname, "seed.helium.io"},
   {similarity_time_diff_mins, 30},
   {random_peer_pred, fun miner_util:random_val_predicate/1},
   {nat_map, #{ {"${NAT_INTERNAL_IP}", "${NAT_INTERNAL_PORT}"} => {"${NAT_EXTERNAL_IP}", "${NAT_EXTERNAL_PORT}"}}}
  ]},
 {relcast,
  [
   {pipeline_depth, 125}
  ]},
 {miner,
  [
   {mode, validator},
   %% these two now disable all the poc stuff
   {use_ebus, false},
   {radio_device, undefined},
   %% dont perform regionalised checks in dev envs
   %% we only realy need the params below if this file is changed to specify a radio device
   %% as without one miner_lora is not started
   %% including the params anyway in case someone needs it in this env
   {region_override, 'US915'}

  ]}
].
