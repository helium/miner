%% -*- erlang -*-
[
 {lager,
  [
   {suppress_supervisor_start_stop, true},
   {log_root, "log"},
   {crash_log, "crash.log"},
   {colored, true},
   {handlers,
    [
     {lager_file_backend, [{file, "console.log"}, {level, info}]},
     {lager_file_backend, [{file, "error.log"}, {level, error}]}
    ]}
  ]},
 {blockchain,
  [
   {port, 0},
   {base_dir, "data"},
   {num_consensus_members, 7},
   {seed_nodes, "{{seed_nodes}}"},
   {seed_node_dns, "{{seed_node_dns}}"},
   {max_inbound_connections, "{{max_inbound_connections}}"}
  ]},
 {relcast,
  [
   {db_open_opts,
    [{total_threads, 4},
     {max_background_jobs, 2},
     {max_background_compactions, 2},
     %% {max_background_flushes, 2}, % not sure if needed
     %% {max_log_file_size, non_neg_integer()}, %% consider lowering
     %% this to lessen compaction delays?
     {max_open_files, 128},
     {compaction_style, universal}
     %% {compaction_pri, compaction_pri()}
    ]},
   {defer_count_threshold, 30},
   {defer_time_threshold, 1000}
  ]},
 {miner,
  [
   {batch_size, 500},
   {curve, 'SS512'},
   {block_time, 15000},
   {update_dir, "{{update_dir}}"}
   %% {h3_resolution, 13},
   %% {radio_device, {"127.0.0.1", 45000}}
  ]}
].
